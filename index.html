<!DOCTYPE html>
<html>
<head>
    <title>CommandL Update Server</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 40px; }
        .api-endpoint { background: #f6f8fa; padding: 10px; border-radius: 5px; margin: 10px 0; }
        .json-preview { background: #282c34; color: #abb2bf; padding: 15px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>🚀 CommandL Update Server</h1>
    <p>This is the auto-update API for CommandL. The app checks these endpoints for new versions.</p>

    <h2>📡 API Endpoints</h2>
    <div class="api-endpoint">
        <strong>ARM64 (Apple Silicon):</strong><br>
        <code>/api/update/darwin-arm64/stable/COMMIT_HASH</code>
    </div>
    <div class="api-endpoint">
        <strong>Intel x64:</strong><br>
        <code>/api/update/darwin/stable/COMMIT_HASH</code>
    </div>

    <h2>📦 Latest Release</h2>
    <p><a href="latest.json">latest.json</a> - Human-readable release information</p>

    <h2>🔍 How It Works</h2>
    <p>When CommandL checks for updates, it calls:</p>
    <p><code>GET /api/update/{platform}/{quality}/{commit}</code></p>
    <p>If a newer version exists, the server returns JSON with download information.</p>
    <p>If the current version is up-to-date, the server returns HTTP 204 (No Content).</p>

    <h2>🏠 Repository</h2>
    <p><a href="https://github.com/sai-veda/commandl-ide">CommandL Source Code</a></p>
    <p><a href="https://github.com/sai-veda/commandl-release">Release Repository</a></p>
</body>
</html>
